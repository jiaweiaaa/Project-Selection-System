{"remainingRequest":"E:\\project1\\project-allocation-student\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\project1\\project-allocation-student\\src\\views\\groups\\index.vue?vue&type=style&index=0&id=c75afb1e&lang=scss&scoped=true&","dependencies":[{"path":"E:\\project1\\project-allocation-student\\src\\views\\groups\\index.vue","mtime":1620822329661},{"path":"E:\\project1\\project-allocation-student\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project1\\project-allocation-student\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\project1\\project-allocation-student\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\project1\\project-allocation-student\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project1\\project-allocation-student\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project1\\project-allocation-student\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmdyb3Vwcy13cmFwcGVyIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIHBhZGRpbmctbGVmdDogMTAwcHg7DQogICAgLmNyZWF0ZS1ncm91cC13cmFwcGVyIHsNCiAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCg0KICAgICAgICAuY3JlYXRlLWJ1dHRvbiB7DQogICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7DQogICAgICAgICAgICAuZWwtaWNvbi1jaXJjbGUtcGx1cyB7DQogICAgICAgICAgICAgICAgY29sb3I6ICNmNWRmNGU7DQogICAgICAgICAgICAgICAgZm9udC1zaXplOiAyNXB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgLmFkZC1ncm91cC1tb2RhbCB7DQogICAgICAgIC5wcmVmZXItZmllbGQtd3JhcHBlciB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIC5sYWJlbCB7DQogICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgLnRvcC13cmFwcGVyIHsNCiAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICAgIH0NCiAgICAuc2VhcmNoLXdyYXBwZXIgew0KICAgICAgICB3aWR0aDogMzAwcHg7DQogICAgfQ0KICAgIC50YWJsZS13cmFwcGVyIHsNCiAgICAgICAgZmxleDogMTsNCiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7DQogICAgICAgIHBhZGRpbmc6IDMwcHg7DQogICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgICAgLnNob3ctbWVtYmVyLWljb24gew0KICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4Ow0KICAgICAgICB9DQogICAgICAgIC5qb2luLWJ1dHRvbiB7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZjVkZjRlOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgICAgICAgICAgY29sb3I6ICNmNWRmNGU7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgICBwYWRkaW5nOiA1cHggMjVweDsNCiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAucHJlZmVyLWZpZWxkLXdyYXBwZXIgew0KICAgICAgICAubGFiZWwgew0KICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMzBweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAucGFnaW5hdGlvbi13cmFwcGVyIHsNCiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICBib3R0b206IDMwcHg7DQogICAgICAgIHJpZ2h0OiAzMHB4Ow0KICAgIH0NCiAgICAuY29uZmlybS1idG4td3JhcHBlciB7DQogICAgICAgIHRleHQtYWxpZ246IHJpZ2h0Ow0KICAgICAgICAuY29uZmlybS1idG4gew0KICAgICAgICAgICAgcGFkZGluZzogMTBweCAzMHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4Ow0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZGY0ZTsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgICAgICAgfQ0KICAgIH0NCiAgICA6OnYtZGVlcCAuZWwtcGFnaW5hdGlvbi5pcy1iYWNrZ3JvdW5kIC5lbC1wYWdlciBsaTpub3QoLmRpc2FibGVkKS5hY3RpdmUgew0KICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVkZjRlOw0KICAgIH0NCiAgICA6OnYtZGVlcCAuZWwtcGFnaW5hdGlvbi5pcy1iYWNrZ3JvdW5kIC5lbC1wYWdlciBsaTpub3QoLmRpc2FibGVkKTpob3ZlciB7DQogICAgICAgIGNvbG9yOiAjZjVkZjRlOw0KICAgIH0NCg0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/views/groups","sourcesContent":["<template>\r\n    <div class=\"groups-wrapper\">\r\n        <div class=\"top-wrapper\">\r\n            <div class=\"search-wrapper\">\r\n                <el-input placeholder=\"search by group id\" v-model=\"keyword\" @input=\"searchByKeyWord\" prefix-icon=\"el-icon-search\"></el-input>\r\n            </div>\r\n            <div class=\"create-group-wrapper\" @click=\"showCreateModal\">\r\n                <div class=\"create-button\">\r\n                    <i class=\"el-icon-circle-plus\"></i>\r\n                </div>\r\n                <div class=\"create-text\">create a group</div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"table-wrapper\">\r\n              <el-table\r\n                :data=\"groupList\"\r\n                empty-text=\"No Data\"\r\n                stripe\r\n                style=\"width: 100%\">\r\n                <el-table-column\r\n                    label=\"\"\r\n                    width=\"100\"\r\n                    align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-user-solid show-member-icon\" :id=\"scope.row.id\"></i>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"id\"\r\n                    label=\"ID\"\r\n                    width=\"50\"\r\n                    align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"studentCount\"\r\n                    label=\"Number of team members\"\r\n                    width=\"250\"\r\n                    align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"preferField\"\r\n                    label=\"Group prefer field\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    label=\"\"\r\n                    width=\"150\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div class=\"join-button\" :id=\"scope.row.id\" @click=\"joinGroup(scope.row.id)\">JOIN</div>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <div class=\"pagination-wrapper\" v-show=\"groupTotal > limit\">\r\n                <el-pagination\r\n                    background\r\n                    layout=\"prev, pager, next\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    :current-page=\"currentPage\"\r\n                    :page-size=\"limit\"\r\n                    :total=\"groupTotal\">\r\n                </el-pagination>\r\n            </div>\r\n        </div>\r\n        <modal \r\n            v-on:hideModal=\"hideModal\"\r\n            title=\"Add Group\"\r\n            :isShow=\"isShowAddModal\"\r\n            class=\"add-group-modal\">\r\n            <template v-slot:content>\r\n                <div class=\"prefer-field-wrapper\">\r\n                    <div class=\"label\">group prefer field:</div>\r\n                    <el-input placeholder=\"prefer field\" v-model=\"preferField\"></el-input>\r\n                </div>\r\n            </template>\r\n\r\n            <template v-slot:footer>\r\n                <div class=\"confirm-btn-wrapper\">\r\n                    <div class=\"confirm-btn\" @click=\"addGroup\">OK</div>\r\n                </div>\r\n            </template>\r\n        </modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from '../../components/Modal'\r\nimport groupsApi from '@/api/groups'\r\nimport CONSTANTS from '@/utils/constants'\r\nexport default {\r\n    data() {\r\n        return {\r\n            groupList:[],\r\n            isShowAddModal: false,\r\n            preferField: '',\r\n            groupTotal: 0,\r\n            limit: 8,\r\n            currentPage: 1,\r\n            keyword: ''\r\n        }\r\n    },\r\n    components: {\r\n        Modal\r\n    },\r\n    created() {\r\n        this.getGroupList()\r\n    },\r\n    methods: {\r\n        showCreateModal() {\r\n            this.isShowAddModal = true\r\n            this.preferField = ''\r\n        },\r\n        hideModal() {\r\n            this.isShowAddModal = false\r\n            this.preferField = ''\r\n        },\r\n        searchByKeyWord() {\r\n            this.currentPage = 1\r\n            this.getGroupList()\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.currentPage = val\r\n            this.getGroupList()\r\n\r\n        },\r\n        joinGroup(grouId) {\r\n            this.$confirm(\"Are you sure join this group?\", 'Confirm', {\r\n                confirmButtonText: 'Confirm',\r\n                cancelButtonText: 'Cancel'\r\n            }).then(() => {\r\n                groupsApi.joinGroup(grouId).then(response => {\r\n                    if (response.code == CONSTANTS.RESPONSE_CODE.SUCCESS) {\r\n                        this.$notify({\r\n                            title: 'Success',\r\n                            message: 'Join group successfully',\r\n                            type: 'success'\r\n                        })\r\n\r\n                        this.getGroupList()\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        addGroup () {\r\n            groupsApi.addGroup({\r\n                preferField: this.preferField\r\n            }).then(response => {\r\n                if (response.code == CONSTANTS.RESPONSE_CODE.SUCCESS) {\r\n                    this.$notify({\r\n                        title: 'Success',\r\n                        message: 'Your group ID is ' + '\"' + response.data.group.id + '\"',\r\n                        type: 'success'\r\n                    });\r\n                    this.hideModal()\r\n                    this.getGroupList()\r\n                } else {\r\n                    this.$notify.error({\r\n                        title: 'Error',\r\n                        message: 'Failed add the group'\r\n                    });\r\n                }\r\n            })\r\n        },\r\n        getGroupList() {\r\n            groupsApi.getGroupList({\r\n                keyword: this.keyword,\r\n                page: this.currentPage,\r\n                limit: this.limit\r\n            }).then(response => {\r\n                this.groupTotal = response.data.total\r\n                let items = []\r\n                for (let item of response.data.list) {\r\n                    items.push({\r\n                        id: item.id,\r\n                        studentCount: item.studentList.length,\r\n                        preferField: item.preferField\r\n                    })\r\n                }\r\n                this.groupList = items\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.groups-wrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    padding-left: 100px;\r\n    .create-group-wrapper {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        cursor: pointer;\r\n\r\n        .create-button {\r\n            margin-right: 10px;\r\n            .el-icon-circle-plus {\r\n                color: #f5df4e;\r\n                font-size: 25px;\r\n            }\r\n        }\r\n    }\r\n\r\n    .add-group-modal {\r\n        .prefer-field-wrapper {\r\n            display: flex;\r\n            align-items: center;\r\n            .label {\r\n                margin-right: 10px;\r\n            }\r\n        }\r\n    }\r\n\r\n    .top-wrapper {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        margin-bottom: 20px;\r\n    }\r\n    .search-wrapper {\r\n        width: 300px;\r\n    }\r\n    .table-wrapper {\r\n        flex: 1;\r\n        background-color: white;\r\n        padding: 30px;\r\n        position: relative;\r\n        .show-member-icon {\r\n            font-size: 18px;\r\n        }\r\n        .join-button {\r\n            border: 1px solid #f5df4e;\r\n            border-radius: 5px;\r\n            color: #f5df4e;\r\n            text-align: center;\r\n            cursor: pointer;\r\n            padding: 5px 25px;\r\n            display: inline-block;\r\n        }\r\n    }\r\n    .prefer-field-wrapper {\r\n        .label {\r\n            white-space: nowrap;\r\n            margin-right: 30px;\r\n            font-size: 14px;\r\n        }\r\n    }\r\n    .pagination-wrapper {\r\n        position: absolute;\r\n        bottom: 30px;\r\n        right: 30px;\r\n    }\r\n    .confirm-btn-wrapper {\r\n        text-align: right;\r\n        .confirm-btn {\r\n            padding: 10px 30px;\r\n            border-radius: 5px;\r\n            color: white;\r\n            font-size: 18px;\r\n            background-color: #f5df4e;\r\n            cursor: pointer;\r\n            display: inline-block;\r\n        }\r\n    }\r\n    ::v-deep .el-pagination.is-background .el-pager li:not(.disabled).active {\r\n        background-color: #f5df4e;\r\n    }\r\n    ::v-deep .el-pagination.is-background .el-pager li:not(.disabled):hover {\r\n        color: #f5df4e;\r\n    }\r\n\r\n}\r\n</style>"]}]}