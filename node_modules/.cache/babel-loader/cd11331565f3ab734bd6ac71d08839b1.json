{"remainingRequest":"E:\\project1\\project-allocation-student\\node_modules\\babel-loader\\lib\\index.js!E:\\project1\\project-allocation-student\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\project1\\project-allocation-student\\src\\utils\\request.js","dependencies":[{"path":"E:\\project1\\project-allocation-student\\src\\utils\\request.js","mtime":1620822329659},{"path":"E:\\project1\\project-allocation-student\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project1\\project-allocation-student\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\project1\\project-allocation-student\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBjb29raWUgZnJvbSAnanMtY29va2llJzsKdmFyIHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICdwcm9kdWN0aW9uJyA/ICdodHRwczovL2FwaS51c3lkcHJvamVjdGFsbG9jYXRpb24uY29tJyA6ICdodHRwOi8vbG9jYWxob3N0OjgwMDEnLAogIHRpbWVvdXQ6IDUwMDAKfSk7CnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBpZiAoY29va2llLmdldCgndG9rZW4nKSkgewogICAgY29uZmlnLmhlYWRlcnNbJ3Rva2VuJ10gPSBjb29raWUuZ2V0KCd0b2tlbicpOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTsKICByZXR1cm4gcmVzOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"sources":["E:/project1/project-allocation-student/src/utils/request.js"],"names":["axios","cookie","service","create","baseURL","process","env","NODE_ENV","timeout","interceptors","request","use","config","get","headers","error","Promise","reject","response","res","data"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,IAAMC,OAAO,GAAGF,KAAK,CAACG,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,YAAxB,GAAuC,uCAAvC,GAAiF,uBADjE;AAEzBC,EAAAA,OAAO,EAAE;AAFgB,CAAb,CAAhB;AAMAN,OAAO,CAACO,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CACI,UAACC,MAAD,EAAY;AACR,MAAIX,MAAM,CAACY,GAAP,CAAW,OAAX,CAAJ,EAAyB;AACrBD,IAAAA,MAAM,CAACE,OAAP,CAAe,OAAf,IAA0Bb,MAAM,CAACY,GAAP,CAAW,OAAX,CAA1B;AACH;;AACD,SAAOD,MAAP;AACH,CANL,EAOI,UAACG,KAAD,EAAW;AACP,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CATL;AAYAb,OAAO,CAACO,YAAR,CAAqBS,QAArB,CAA8BP,GAA9B,CACI,UAAAO,QAAQ,EAAI;AACR,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAArB;AACA,SAAOD,GAAP;AACH,CAJL;AAOA,eAAejB,OAAf","sourcesContent":["import axios from 'axios'\r\nimport cookie from 'js-cookie'\r\n\r\nconst service = axios.create({\r\n    baseURL: process.env.NODE_ENV == 'production' ? 'https://api.usydprojectallocation.com' : 'http://localhost:8001',\r\n    timeout: 5000\r\n})\r\n\r\n\r\nservice.interceptors.request.use(\r\n    (config) => {\r\n        if (cookie.get('token')) {\r\n            config.headers['token'] = cookie.get('token')\r\n        }\r\n        return config\r\n    }, \r\n    (error) => {\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\nservice.interceptors.response.use(\r\n    response => {\r\n        const res = response.data\r\n        return res\r\n    }\r\n)\r\n\r\nexport default service\r\n\r\n"]}]}